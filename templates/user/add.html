{% extends "../base.html" %}

{% block title %}Agregar {% end %}
{% block caption %}agrega una nueva bodega{% end %}


{% block body %}
<div class="col-md-7">
	<section class="widget">
		<form action="/user/add" class="form-horizontal label-left" method="post" enctype="multipart/form-data">
			<fieldset>
				<legend class="section">Agregar usuario</legend>
				<div class="control-group">
					<label for="" class="control-label">Nombre</label>
					<div class="controls form-group">
						<div class="col-sm-8"><input placeholder="Nombre" name="name" required="required" type="text" class="form-control" value="{{ user.name }}"></div>
					</div>
				</div>
				<div class="control-group">
					<label for="" class="control-label">Apellido</label>
					<div class="controls form-group">
						<div class="col-sm-8"><input placeholder="Apellido" name="surname" required="required" type="text" class="form-control" value="{{ user.surname }}"></div>
					</div>
				</div>
				<div class="control-group">
					<label for="" class="control-label">Email</label>
					<div class="controls form-group">
						<div class="col-sm-8"><input placeholder="ejemplo@gianidafirenze.cl" name="email" required="required" type="email" class="form-control" value="{{ user.email }}"></div>
					</div>
				</div>
				<div class="control-group">
					<label for="" class="control-label">Contrase単a</label>
					<div class="controls form-group">
						<div class="col-sm-8"><input placeholder="contrase単a" name="password" required="required" required="required" type="password" class="form-control" onchange="form.re_password.pattern = this.value;" value="{{ user.password }}"></div>
					</div>
				</div>
				<div class="control-group">
					<label for="" class="control-label">Repita contrase単a</label>
					<div class="controls form-group">
						<div class="col-sm-8"><input placeholder="contrase単a" name="re_password" required="required" type="password" class="form-control" value="{{ user.password }}"></div>
					</div>
				</div>
				<style type="text/css">
  					.objMovible { position:absolute; cursor:pointer }
				</style>
				<div class="control-group">
					<label for="" class="control-label">Permisos</label>
					<div class="controls form-group">
						<div class="col-sm-8"><div id="perm" name="permissions" type="" class="form-control" value="{{ user.permissions }}">
						{% set permiso = ["acceso a api","cargar productos nuevos","vender","modificar bodegas","adminsitrar usuarios","ver informes"] %}
							{% for i in range(0,len(permiso)) %} 
									<a id="perm_top{{ i }}" class="btn-sm btn-primary btn-perm" onclick="addElementBot({{ i }})">{{ permiso[i] }}</a>
							{% end %}
						</div>
							<div id="perm_bot">
								{% for i in range(0,len(permiso)) %} 
									<a id="perm_{{ i }}" class="btn-sm btn-primary btn-perm-bot" onclick="addElement({{ i }})">{{ permiso[i] }}</a>
								{% end %}
							</div>
						</div>
					</div>									
				</div>
			</fieldset>
			<input type="hidden" name="id" value="{{ user.identifier }}">
			<div class="form-actions">
				<button type="submit" class="btn btn-primary">Validar y agregar</button>
				<button type="reset" class="btn btn-default">Limpiar</button>
			</div>
			{% raw xsrf_form_html() %}
		</form>
	</section>
</div>
{% end %}